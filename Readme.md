## Общие моменты
Balalayka.IDEA является библиотекой для быстрой сборки прототипа или минимально-рабочего продукта например для пресэйла, демонстрации, проверки идеи.
Библиотека создаёт систему, работающую в формате Single Page Application - каждая страница загружается по AJAX. При этом, речь не идёт об оптимизации скорости загрузки страниц, такой цели библиотека себе не ставит. Несмотря на это, системы получаются очень быстрыми и лёгкими.

## Структура файлов
* css/ - стили
* fonts/ - шрифты
* img/ - изображения
* js/ - общие скрипты UI и компонентов
* views/ - представления страниц

## Представления страниц views/
* views/server/ - разметка страниц
* views/client/ - JS-обработчики для каждой из страниц
Структура в папках server и client совпадает.
Пример. Страница «Поиск».
* views/server/search/index.html - разметка
* views/client/search/index.js - обработчик

### Третий уровень
В папках views/server/ и views/client/ файлы могут быть разбиты или не разбиты по подпапкам.
Изначально предполагается следующая логика размещения:
* _shared/ - повторяющиеся на странице элементы, например шапка, футер, инклюды и т. п.
* section/index.html - главная страница раздела
* section/page.html - подстраница

## Роутинг
Роутинг осуществляется в формате JSON и находится в файле js/components/balalayka.idea.routing.js

## Инструменты разработчика
Включаются и отключаются в файле js/components/balalayka.idea.core.js
Чтобы включить инструменты разработчика, назначьте переменной dev_mode значение true.
Чтобы инструменты разработчика были всегда открыты, назначьте переменной dev_tools_always_visible значение true.
Инструменты разработчика включают в себя:
* Карту сайта, формируется автоматически;
* Консоль.

### Консоль разработчика
Формально, консолью это не является, так как ввода данных сюда не предусмотрено - только вывод. Будем для простоты называть консолью.
Консоль выводится в правом нижнем углу при условии включенных инструментов разработчика.
В консоль выводится следующая информация:
* Пути до файлов скриптов, разметки и инклюдов в порядке загрузки на страницу;
* Есть или нет параметры в запросе;
* Если есть, выводит все параметры в распарсенном виде;
* Если параметры есть, выводит запрос целиком - тот, что улетает на сервер;
* Путь до основного файла обработчика и файла разметки страницы.

## Инклюды
Библиотека предусматривает использование инклюдов.
Чтобы вставить инклюд на страницу, надо использовать собственный тег <include> и внутри него параметр src, в котором указать путь до инклюда.
Например:
```html
<include src="_shared/auth_form"></include>
```
Инклюды рекомендуется размещать в папке /views/_shared/

## Настройки
Расположены в файле js/components/balalayka.idea.core.js
* system_name - название системы, которое выводится в title
* path - путь до корня домена, заполняется только в том случае, если сайт на поддомене или в папке основного сайта, по-умолчанию пустой
* client_path - путь до обработчиков страниц, по-умолчанию 'views/client'
* server_path - путь до разметки страниц, по-умолчанию 'views/server'
* content_selector - динамическая часть страницы, в которую грузим
* links_selector - перечисление в виде CSS-селекторов всех динамических ссылок на странице, то есть тех ссылок, которые должны подсвечиваться при переходе на URL, указанный в них
* dev_mode - режим разработчика, включает карту сайта и консоль, true | false
* dev_tools_always_visible - консоль всегда видна, true | false

## Рекомендации к вёрстке
Для динамических ссылок, которые должны подсвечиваться при переходе на URL, указанный в них, класс для подсветки - 'active'.

## Демо
Демо 1: http://puchk.in/work/finodin/
Демо 2: http://puchk.in/balalayka/idea/
Реальная система: http://puchk.in/work/bashkortostan/
